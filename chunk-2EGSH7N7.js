import{c as v}from"./chunk-NAZHZL2Z.js";import{b as A,d as L,e as W,f as N,g as T,h as j,q as k,s as D}from"./chunk-JJK6J4PC.js";import{E as C,H as E,K as I}from"./chunk-ERIR3R6Y.js";import{Ia as n,Ib as a,Kb as m,Lb as c,Mb as h,Nb as f,Sa as p,Wa as w,_a as y,d as b,jb as x,kb as t,lb as i,ub as g,uc as _,wb as M,yc as S}from"./chunk-JV3ZGQQZ.js";function q(s,o){if(s&1&&(t(0,"div",11),a(1),i()),s&2){let P=M();n(),m(" ",P.errorMessage," ")}}var J=(()=>{let o=class o{constructor(d,l){this.auth=d,this.router=l,this.email="",this.password="",this.isLogin=!0,this.errorMessage=""}onSubmit(){return b(this,null,function*(){this.errorMessage="";try{this.isLogin?yield I(this.auth,this.email,this.password):yield E(this.auth,this.email,this.password),this.router.navigate(["/dashboard"])}catch(d){this.errorMessage=d.message||"Erreur d'authentification"}})}toggleMode(){this.isLogin=!this.isLogin,this.errorMessage=""}};o.\u0275fac=function(l){return new(l||o)(p(C),p(v))},o.\u0275cmp=w({type:o,selectors:[["app-auth"]],decls:19,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-blue-500","to-blue-700"],[1,"bg-white","p-8","rounded-lg","shadow-2xl","w-full","max-w-md"],[1,"text-3xl","font-bold","text-center","text-gray-800","mb-6"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",4,"ngIf"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-gray-700","font-medium","mb-2"],["name","email","type","email","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["name","password","type","password","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded-lg","transition"],[1,"mt-4","text-center"],[1,"text-blue-600","hover:text-blue-800","text-sm",3,"click"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-4"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),a(3),i(),y(4,q,2,1,"div",3),t(5,"form",4),g("ngSubmit",function(){return e.onSubmit()}),t(6,"div")(7,"label",5),a(8,"Email"),i(),t(9,"input",6),f("ngModelChange",function(r){return h(e.email,r)||(e.email=r),r}),i()(),t(10,"div")(11,"label",5),a(12,"Mot de passe"),i(),t(13,"input",7),f("ngModelChange",function(r){return h(e.password,r)||(e.password=r),r}),i()(),t(14,"button",8),a(15),i()(),t(16,"div",9)(17,"button",10),g("click",function(){return e.toggleMode()}),a(18),i()()()()),l&2&&(n(3),m(" ",e.isLogin?"Connexion":"Inscription"," "),n(),x("ngIf",e.errorMessage),n(5),c("ngModel",e.email),n(4),c("ngModel",e.password),n(2),m(" ",e.isLogin?"Se connecter":"S'inscrire"," "),n(3),m(" ",e.isLogin?"Cr\xE9er un compte":"D\xE9j\xE0 un compte ? Se connecter"," "))},dependencies:[S,_,D,j,A,L,W,k,T,N],encapsulation:2});let s=o;return s})();export{J as AuthComponent};
